#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Kingdom Collective Pre-Push Hook
# Ensures tests pass before pushing

echo "ğŸ§ª Running pre-push checks..."

# Run tests
echo "ğŸ§ª Running unit tests..."
npm run test:quick || {
  echo "âŒ Tests failed. Fix them before pushing."
  exit 1
}

# Build check
echo "ğŸ—ï¸ Verifying build..."
npm run build --if-present || {
  echo "âŒ Build failed. Fix build errors before pushing."
  exit 1
}

echo "âœ… Pre-push checks passed!"

