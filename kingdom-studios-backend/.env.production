# ==============================================
# KINGDOM STUDIOS BACKEND - PRODUCTION ENVIRONMENT
# ==============================================

# ==============================================
# SERVER CONFIGURATION
# ==============================================
PORT=3000
NODE_ENV=production
API_VERSION=v1

# ==============================================
# DATABASE CONFIGURATION (PRODUCTION)
# ==============================================
# Production MongoDB Atlas Connection
MONGODB_URI=mongodb+srv://kingdom-studios-user:${MONGODB_PASSWORD}@kingdom-studios-cluster.mongodb.net/kingdom-studios-prod?retryWrites=true&w=majority

# Database Performance Settings
MONGODB_MAX_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000

# ==============================================
# AUTHENTICATION & SECURITY (PRODUCTION)
# ==============================================
JWT_SECRET=${JWT_SECRET_PRODUCTION}
JWT_EXPIRES_IN=1h
BCRYPT_ROUNDS=12

# API Rate Limiting (Production)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=5000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# Security Headers
CORS_ORIGIN=https://kingdomstudios.app,https://app.kingdomstudios.app
CORS_CREDENTIALS=true

# ==============================================
# API KEYS MANAGEMENT (PRODUCTION)
# ==============================================
VALID_API_KEYS=${PRODUCTION_API_KEYS}
ADMIN_API_KEY=${ADMIN_API_KEY}

# ==============================================
# LOGGING & MONITORING (PRODUCTION)
# ==============================================
LOG_LEVEL=info
LOG_FORMAT=json

# Monitoring Services
DATADOG_API_KEY=${DATADOG_API_KEY}
NEW_RELIC_LICENSE_KEY=${NEW_RELIC_LICENSE_KEY}
SENTRY_DSN=${SENTRY_DSN}

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# ==============================================
# REDIS CONFIGURATION (PRODUCTION)
# ==============================================
REDIS_URL=${REDIS_URL}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY_ON_FAILURE=100

# Session Store
SESSION_STORE=redis
SESSION_SECRET=${SESSION_SECRET}
SESSION_MAX_AGE=3600000

# ==============================================
# CLOUD STORAGE (PRODUCTION)
# ==============================================
# AWS S3 Configuration
AWS_REGION=us-east-1
AWS_S3_BUCKET=kingdom-studios-assets
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}

# CloudFront CDN
CDN_BASE_URL=https://cdn.kingdomstudios.app

# ==============================================
# AI SERVICES (PRODUCTION)
# ==============================================
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENROUTER_API_KEY=${OPENROUTER_API_KEY}
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}

# AI Rate Limiting
AI_RATE_LIMIT_RPM=1000
AI_RATE_LIMIT_TPM=40000

# ==============================================
# ANALYTICS & TRACKING (PRODUCTION)
# ==============================================
GA4_MEASUREMENT_ID=${GA4_MEASUREMENT_ID}
GA4_API_SECRET=${GA4_API_SECRET}
MIXPANEL_TOKEN=${MIXPANEL_TOKEN}

# Custom Analytics
ANALYTICS_ENDPOINT=https://analytics.kingdomstudios.app
ANALYTICS_API_KEY=${ANALYTICS_API_KEY}

# ==============================================
# EMAIL SERVICE (PRODUCTION)
# ==============================================
SENDGRID_API_KEY=${SENDGRID_API_KEY}
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
FROM_EMAIL=noreply@kingdomstudios.app

# ==============================================
# PERFORMANCE & SCALING
# ==============================================
# Cluster Configuration
CLUSTER_WORKERS=auto
CLUSTER_MAX_WORKERS=8

# Memory Limits
NODE_OPTIONS=--max-old-space-size=2048

# Request Limits
MAX_REQUEST_SIZE=50mb
MAX_FILE_SIZE=100mb

# Connection Limits
MAX_CONNECTIONS=10000
KEEP_ALIVE_TIMEOUT=5000

# ==============================================
# SSL/TLS CONFIGURATION
# ==============================================
HTTPS_ENABLED=true
SSL_CERT_PATH=/certs/fullchain.pem
SSL_KEY_PATH=/certs/privkey.pem

# ==============================================
# DEPLOYMENT CONFIGURATION
# ==============================================
DEPLOYMENT_PLATFORM=${DEPLOYMENT_PLATFORM}
BUILD_VERSION=${BUILD_VERSION}
GIT_COMMIT=${GIT_COMMIT}
DEPLOY_TIMESTAMP=${DEPLOY_TIMESTAMP}

# Health Check URLs
HEALTH_CHECK_URL=https://api.kingdomstudios.app/health
METRICS_URL=https://api.kingdomstudios.app/metrics

# ==============================================
# FEATURE FLAGS
# ==============================================
ENABLE_AI_CONTENT=true
ENABLE_ANALYTICS=true
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
ENABLE_COMPRESSION=true
ENABLE_MONITORING=true

# ==============================================
# BACKUP & DISASTER RECOVERY
# ==============================================
BACKUP_S3_BUCKET=kingdom-studios-backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *

# ==============================================
# COMPLIANCE & GDPR
# ==============================================
GDPR_COMPLIANCE=true
DATA_RETENTION_DAYS=365
PRIVACY_POLICY_URL=https://kingdomstudios.app/privacy
TERMS_OF_SERVICE_URL=https://kingdomstudios.app/terms
